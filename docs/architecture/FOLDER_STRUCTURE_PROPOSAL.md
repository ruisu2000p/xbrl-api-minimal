# ğŸ“ ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ æ”¹å–„ææ¡ˆ

## ç¾åœ¨ã®æ§‹é€ ã®å•é¡Œç‚¹
1. ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å¤šæ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ•£åœ¨
2. é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãŒåˆ¥ã€…ã®ãƒ•ã‚©ãƒ«ãƒ€ã«åˆ†æ•£
3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚³ãƒ¼ãƒ‰ãŒæ··åœ¨

## ææ¡ˆã™ã‚‹æ–°æ§‹é€ 

```
xbrl-api-minimal/
â”œâ”€â”€ ğŸ“ src/                    # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ ğŸ“ app/               # Next.js App Router
â”‚   â”œâ”€â”€ ğŸ“ components/        # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ lib/               # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/          # APIé–¢é€£
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/         # èªè¨¼é–¢é€£
â”‚   â”‚   â”œâ”€â”€ ğŸ“ db/           # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/   # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“ security/     # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
â”‚   â”‚   â””â”€â”€ ğŸ“ utils/        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ ğŸ“ types/            # TypeScriptå‹å®šç¾©
â”‚   â””â”€â”€ ğŸ“ styles/           # ã‚¹ã‚¿ã‚¤ãƒ«é–¢é€£
â”‚
â”œâ”€â”€ ğŸ“ infrastructure/         # ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»è¨­å®š
â”‚   â”œâ”€â”€ ğŸ“ config/           # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ ğŸ“ deploy/           # ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
â”‚   â”œâ”€â”€ ğŸ“ scripts/          # ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ ğŸ“ supabase/         # Supabaseè¨­å®š
â”‚
â”œâ”€â”€ ğŸ“ database/               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ ğŸ“ migrations/       # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ ğŸ“ seeds/            # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ ğŸ“ sql/              # SQLãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ ğŸ“ docs/                   # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ api/              # APIä»•æ§˜æ›¸
â”‚   â”œâ”€â”€ ğŸ“ guides/           # ã‚¬ã‚¤ãƒ‰
â”‚   â””â”€â”€ ğŸ“ architecture/     # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ–‡æ›¸
â”‚
â”œâ”€â”€ ğŸ“ tests/                  # ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ unit/             # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ ğŸ“ integration/      # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ ğŸ“ e2e/              # E2Eãƒ†ã‚¹ãƒˆ
â”‚
â”œâ”€â”€ ğŸ“ public/                 # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚
â”œâ”€â”€ ğŸ“ .github/                # GitHubè¨­å®š
â”‚
â”œâ”€â”€ ğŸ“„ package.json
â”œâ”€â”€ ğŸ“„ tsconfig.json
â”œâ”€â”€ ğŸ“„ next.config.js
â”œâ”€â”€ ğŸ“„ README.md
â””â”€â”€ ğŸ“„ .env.example
```

## ç§»å‹•è¨ˆç”»

### Phase 1: åŸºæœ¬æ§‹é€ ã®ä½œæˆ
```bash
# srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p src/{app,components,lib,types,styles}

# infrastructureãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p infrastructure/{config,deploy,scripts,supabase}

# databaseãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p database/{migrations,seeds,sql}

# testsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p tests/{unit,integration,e2e}
```

### Phase 2: ãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»å‹•

#### ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ« â†’ src/
- `app/` â†’ `src/app/`
- `components/` â†’ `src/components/`
- `lib/` â†’ `src/lib/`
- `types/` â†’ `src/types/`

#### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ•ã‚¡ã‚¤ãƒ« â†’ infrastructure/
- `config/` â†’ `infrastructure/config/`
- `deploy/` â†’ `infrastructure/deploy/`
- `scripts/` â†’ `infrastructure/scripts/`
- `supabase/` â†’ `infrastructure/supabase/`

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ« â†’ database/
- `sql/` â†’ `database/sql/`

### Phase 3: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°

#### tsconfig.json
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@/app/*": ["src/app/*"],
      "@/components/*": ["src/components/*"],
      "@/lib/*": ["src/lib/*"],
      "@/types/*": ["src/types/*"]
    }
  }
}
```

#### next.config.js
```javascript
module.exports = {
  // srcãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚½ãƒ¼ã‚¹ã¨ã—ã¦è¨­å®š
  experimental: {
    appDir: 'src/app'
  }
}
```

## ãƒ¡ãƒªãƒƒãƒˆ

1. **æ˜ç¢ºãªè²¬ä»»åˆ†é›¢**: ã‚³ãƒ¼ãƒ‰ã€ã‚¤ãƒ³ãƒ•ãƒ©ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ˜ç¢ºã«åˆ†é›¢
2. **ä¿å®ˆæ€§å‘ä¸Š**: é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜å ´æ‰€ã«é›†ç´„
3. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ‹¡å¤§æ™‚ã‚‚æ§‹é€ ã‚’ç¶­æŒ
4. **é–‹ç™ºåŠ¹ç‡**: ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ãŒäºˆæ¸¬ã—ã‚„ã™ã„
5. **CI/CDæœ€é©åŒ–**: ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ—ãƒ­ã‚»ã‚¹ã®ç°¡ç•¥åŒ–

## å®Ÿè£…é †åº

1. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ**
2. **æ–°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ**
3. **ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•**
4. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°**
5. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹æ›´æ–°**
6. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
7. **ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥**

## æ³¨æ„äº‹é …

- Next.js 13ä»¥é™ã®App Routerã¯`app/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’èªè­˜
- Vercelãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šã®æ›´æ–°ãŒå¿…è¦ãªå ´åˆã‚ã‚Š
- æ—¢å­˜ã®importãƒ‘ã‚¹ã‚’ã™ã¹ã¦æ›´æ–°ã™ã‚‹å¿…è¦ã‚ã‚Š
- `.gitignore`ã®æ›´æ–°ã‚‚å¿…è¦